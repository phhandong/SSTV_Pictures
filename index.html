<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean SSTV Gallery</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            background-color: #f8f9fa;
        }

        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 10px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 40px 20px;
            background: url('data/background.jpg') no-repeat center top;
            background-size: cover;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);

            /* æ‚¬æµ®å›ºå®šåœ¨é¡¶éƒ¨ */
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        h1 {
            color: white;
            margin-bottom: 10px;
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: 700;
            letter-spacing: -0.5px;
            /* å±…ä¸­å¯¹é½ */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }

        .sstv-text {
            /* è‰ºæœ¯é…è‰²ï¼šè“ç´«æ¸å˜ */
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            /* å¢åŠ é—´éš™ */
            margin-right: 0.6em;
        }

        .comet-icon {
            /* å­—ä½“æ›´å° */
            font-size: 0.5em;
            margin-left: 8px;
            vertical-align: super;
        }

        header p {
            color: white;
        }

        header p a {
            color: #3498db;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.2s;
            border-bottom: 1px dashed #3498db;
        }

        header p a:hover {
            color: #2980b9;
            border-bottom-style: solid;
        }

        .folder-section {
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .folder-title {
            background: linear-gradient(135deg, #3498db, #8e44ad);
            color: white;
            padding: 15px 20px;
            font-size: 1.2rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .images-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 15px;
            padding: 20px;
        }

        .image-item {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 1px solid #eee;
        }

        .image-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .image-wrapper {
            aspect-ratio: 4/3;
            height: auto;
            overflow: hidden;
            background-color: #f1f1f1;
        }

        .image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .image-item:hover .image-wrapper img {
            transform: scale(1.05);
        }

        .image-name {
            padding: 10px;
            text-align: center;
            font-size: 0.9rem;
            color: #555;
            border-top: 1px solid #f0f0f0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
        }

        footer {
            text-align: center;
            padding: 30px 20px;
            margin-top: 40px;
            color: #95a5a6;
            font-size: 0.85rem;
            border-top: 1px solid #e1e1e1;
        }

        footer a {
            color: #3498db;
            text-decoration: none;
            transition: color 0.2s;
        }

        footer a:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        .emoji-reset {
            /* å¼ºåˆ¶ä½¿ç”¨ Emoji å­—ä½“å¹¶é‡ç½®é¢œè‰²ï¼Œé˜²æ­¢è¢«çˆ¶çº§ç™½è‰²è¦†ç›– */
            font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            color: initial;
            font-weight: normal;
            margin-right: 4px;
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            header {
                padding: 25px 15px;
                margin-bottom: 20px;
            }

            .folder-title {
                padding: 12px 15px;
                font-size: 1.1rem;
            }

            .images-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
                padding: 10px;
            }

            .image-name {
                font-size: 0.8rem;
                padding: 8px 5px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>
                <span class="sstv-text">SSTV</span>
                <span>GALLERY</span>
                <span class="comet-icon">â˜„</span>
            </h1>
            <p>Received by <a href="https://github.com/phhandong" target="_blank">BG2GZW</a></p>
        </header>

        <div id="folders-container">
            <div class="loading">Loading...</div>
        </div>

        <footer>
            <p><b> Thanks to</b> BD8CKF <a href="https://github.com/troilus/sstvgallery" target="_blank">SSTV
                    Gallery</a>
            </p>
            <p>Cover Photograher <a href="https://www.pexels.com/zh-cn/@amel-uzunovic-440739273/" target="_blank">Amel
                    Uzunovic</a>
            </p>
        </footer>
    </div>

    <script>
        async function loadGallery () {
            try {
                const response = await fetch('data/gallery-data.json');
                const data = await response.json();
                displayGallery(data);
            } catch (error) {
                console.error('åŠ è½½å¤±è´¥:', error);
                document.getElementById('folders-container').innerHTML =
                    '<div class="loading">åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æ–‡ä»¶</div>';
            }
        }

        function displayGallery (data) {
            const container = document.getElementById('folders-container');
            container.innerHTML = '';

            for (const [folderName, images] of Object.entries(data)) {
                const folderSection = document.createElement('div');
                folderSection.className = 'folder-section';

                // å¤„ç†æ ‡é¢˜ï¼ŒåŒ…è£¹ emoji ä»¥æ˜¾ç¤ºåŸè‰²
                const displayTitle = folderName.replace(/ğŸ›°/g, '<span class="emoji-reset">ğŸ›°</span>');

                folderSection.innerHTML = `
                    <div class="folder-title">${displayTitle}</div>
                    <div class="images-container">
                        ${images.map(image => `
                            <div class="image-item">
                                <div class="image-wrapper">
                                    <img src="${image.url}" alt="${image.name}" loading="lazy">
                                </div>
                                <div class="image-name">${image.name}</div>
                            </div>
                        `).join('')}
                    </div>
                `;

                container.appendChild(folderSection);
            }
        }

        // é¡µé¢åŠ è½½æ—¶è·å–æ•°æ®
        loadGallery();

        // èƒŒæ™¯å›¾ç‰‡è§†å·®æ»šåŠ¨æ•ˆæœ
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');

            // è®¡ç®—é¡µé¢å¯æ»šåŠ¨çš„æ€»é«˜åº¦
            const maxScroll = document.documentElement.scrollHeight - window.innerHeight;

            if (maxScroll > 0) {
                // è®¡ç®—å½“å‰æ»šåŠ¨è¿›åº¦çš„ç™¾åˆ†æ¯” (0 - 100)
                // 0% å¯¹åº”èƒŒæ™¯å›¾é¡¶éƒ¨ï¼Œ100% å¯¹åº”èƒŒæ™¯å›¾åº•éƒ¨
                const percentage = (window.scrollY / maxScroll) * 100;

                // æ›´æ–°èƒŒæ™¯ä½ç½®ï¼Œä¿æŒæ°´å¹³å±…ä¸­
                // è¿™æ ·å½“é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨æ—¶ï¼ŒèƒŒæ™¯å›¾ä¹Ÿåˆšå¥½æ˜¾ç¤ºåˆ°åº•éƒ¨
                header.style.backgroundPosition = `center ${percentage}%`;
            }
        });
    </script>
</body>

</html>